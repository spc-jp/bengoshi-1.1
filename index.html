<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¼è­·å£«ã®ãŸã‚ã®AIã²ãªå½¢</title>
    <!-- ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Serif+JP:wght@600;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* å¼è­·å£«ç‰ˆã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
            --primary-color: #0F2A44; /* æŒ‡å®šã®ãƒã‚¤ãƒ“ãƒ¼ */
            /* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ§ãˆã‚ã«ã—ã€é‡åšæ„Ÿã‚’å‡ºã™ */
            --primary-gradient: linear-gradient(135deg, #0F2A44 0%, #163655 100%);
            
            --accent-color: #8B1E2D; /* æŒ‡å®šã®æ·±ç´… */
            --accent-gradient: linear-gradient(135deg, #8B1E2D 0%, #A02335 100%);
            
            --bg-color: #F8F9FA;
            --card-bg: #FFFFFF;
            
            --text-main: #1A1A1A;
            --text-sub: #5F6368;
            --border-color: #E0E0E0;
            
            --input-bg: #FFFFFF;
            --input-border: #DADCE0;
            
            --danger-bg: #FEF7E0;
            --danger-text: #B08800;
            
            --modal-overlay: rgba(15, 42, 68, 0.8);
            
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-card: 0 8px 24px rgba(0,0,0,0.06);
            --shadow-float: 0 16px 32px rgba(0,0,0,0.1);
            
            --radius: 12px; /* å°‘ã—è§’ä¸¸ã‚’æŠ‘ãˆã¦ãƒ•ã‚©ãƒ¼ãƒãƒ«ã« */
            --radius-sm: 8px;
            --spacing-unit: 20px;
        }

        /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä¸Šæ›¸ã */
        [data-theme="dark"] {
            --primary-color: #A4C4EA;
            --primary-gradient: linear-gradient(135deg, #A4C4EA 0%, #D0E1F5 100%);
            --accent-color: #E57373; /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã¯å°‘ã—æ˜ã‚‹ã‚ã®èµ¤ */
            --accent-gradient: linear-gradient(135deg, #E57373 0%, #EF9A9A 100%);
            --bg-color: #121212;
            --card-bg: #1E1E1E;
            --text-main: #E8EAED;
            --text-sub: #9AA0A6;
            --border-color: #3C4043;
            --input-bg: #28292A;
            --input-border: #3C4043;
            --danger-bg: #3C3200;
            --danger-text: #FDD835;
            --shadow-card: 0 8px 24px rgba(0,0,0,0.4);
        }

        @media (prefers-color-scheme: dark) {
            :root:not([data-theme="light"]) {
                --primary-color: #A4C4EA;
                --primary-gradient: linear-gradient(135deg, #A4C4EA 0%, #D0E1F5 100%);
                --accent-color: #E57373;
                --accent-gradient: linear-gradient(135deg, #E57373 0%, #EF9A9A 100%);
                --bg-color: #121212;
                --card-bg: #1E1E1E;
                --text-main: #E8EAED;
                --text-sub: #9AA0A6;
                --border-color: #3C4043;
                --input-bg: #28292A;
                --input-border: #3C4043;
                --danger-bg: #3C3200;
                --danger-text: #FDD835;
                --shadow-card: 0 8px 24px rgba(0,0,0,0.4);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: var(--spacing-unit);
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³åˆ·æ–° */
        header {
            padding: 50px 10px 30px;
            text-align: center;
            position: relative;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ */
        .header-icon-symbol {
            font-size: 32px;
            display: block;
            margin-bottom: 8px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        /* ã‚¢ãƒ—ãƒªåï¼šãƒ‡ã‚¶ã‚¤ãƒ³å¼·åŒ– */
        h1 {
            font-family: 'Noto Serif JP', serif;
            font-size: 26px;
            font-weight: 900;
            color: var(--primary-color); /* ãƒ™ãƒ¼ã‚¹è‰²ã‚’é©ç”¨ */
            letter-spacing: 0.05em;
            margin: 0;
            position: relative;
            display: inline-block;
        }
        
        /* ã‚¿ã‚¤ãƒˆãƒ«ä¸‹ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆãƒ©ã‚¤ãƒ³ï¼ˆèµ¤ï¼‰ */
        h1::after {
            content: '';
            display: block;
            width: 30px;
            height: 3px;
            background: var(--accent-color);
            margin: 12px auto 0;
            border-radius: 2px;
        }

        [data-theme="dark"] h1 {
            color: var(--primary-color);
        }
        @media (prefers-color-scheme: dark) {
            :root:not([data-theme="light"]) h1 {
                color: var(--primary-color);
            }
        }

        /* è¨­å®šãƒœã‚¿ãƒ³ */
        .settings-btn {
            position: absolute;
            right: 10px;
            top: 10px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-sub);
            padding: 8px;
            opacity: 0.6;
            transition: opacity 0.2s, transform 0.2s;
            z-index: 10;
        }
        .settings-btn:hover {
            opacity: 1;
            transform: rotate(30deg);
        }

        .subtitle {
            font-family: 'Noto Serif JP', serif; /* ã‚­ãƒ£ãƒƒãƒã‚‚æ˜æœä½“ã§é™ã‹ã« */
            font-size: 14px;
            color: var(--text-sub);
            margin-top: 20px;
            margin-bottom: 24px;
            font-weight: 600;
            line-height: 1.8;
            letter-spacing: 0.05em;
        }

        .usage-link {
            display: inline-block;
            font-size: 12px;
            color: var(--text-sub);
            background: transparent;
            border: 1px solid var(--border-color);
            padding: 6px 16px;
            border-radius: 20px;
            text-decoration: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        .usage-link:hover {
            border-color: var(--accent-color);
            color: var(--text-main);
        }

        /* ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 24px 16px;
            box-shadow: var(--shadow-card);
            cursor: pointer;
            transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 160px;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--accent-gradient); /* èµ¤ã®ãƒ©ã‚¤ãƒ³ */
            opacity: 0.9;
        }

        .card:active { transform: scale(0.96); box-shadow: var(--shadow-sm); }
        .card:hover {
            border-color: rgba(139, 30, 45, 0.1);
            box-shadow: var(--shadow-float);
        }

        .card-icon {
            font-size: 38px;
            margin-bottom: 16px;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.05));
        }

        .card-title {
            font-weight: 700;
            font-size: 15px;
            line-height: 1.5;
            color: var(--text-main);
            letter-spacing: 0.02em;
        }

        /* é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .magic-section {
            margin-top: 10px;
            margin-bottom: 40px;
        }

        .magic-title {
            font-family: 'Noto Serif JP', serif;
            font-size: 19px;
            font-weight: 900;
            color: var(--text-main);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            letter-spacing: 0.05em;
        }
        
        .magic-title::before {
            content: 'âœ¦';
            color: var(--accent-color); /* ã“ã“ã‚‚èµ¤ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
            margin-right: 8px;
            font-size: 18px;
        }

        .magic-title span {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-sub);
            margin-left: 12px;
            background: rgba(0,0,0,0.04);
            padding: 3px 8px;
            border-radius: 4px;
            letter-spacing: 0.05em;
        }

        .tool-group {
            background: var(--card-bg);
            border-radius: var(--radius);
            margin-bottom: 16px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: box-shadow 0.2s;
        }

        .tool-group:hover {
            box-shadow: var(--shadow-card);
        }

        .tool-summary {
            padding: 18px 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 16px;
            color: var(--text-main);
            display: flex;
            align-items: center;
            justify-content: space-between;
            list-style: none;
            background: linear-gradient(to right, var(--card-bg), rgba(0,0,0,0.01));
        }
        
        .tool-summary::-webkit-details-marker { display: none; }

        .tool-icon { margin-right: 12px; font-size: 20px; }
        
        .tool-role {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-sub);
            background: var(--input-bg);
            padding: 4px 10px;
            border-radius: 20px;
            margin-left: auto;
            margin-right: 12px;
            letter-spacing: 0.05em;
        }

        .arrow-icon {
            font-size: 12px;
            color: var(--text-sub);
            transition: transform 0.2s;
        }

        details[open] .arrow-icon { transform: rotate(180deg); }

        .prompt-list {
            padding: 0 20px 20px;
            background: var(--card-bg);
            border-top: 1px solid var(--border-color);
        }

        .prompt-item {
            display: flex;
            flex-direction: column;
            padding: 16px 0;
            border-bottom: 1px dashed var(--border-color);
        }

        .prompt-item:last-child { border-bottom: none; padding-bottom: 0; }
        .prompt-item:first-child { padding-top: 20px; }

        .prompt-label {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .prompt-label::before {
            content: 'â—';
            color: var(--accent-color);
            font-size: 8px;
            margin-right: 8px;
        }

        .prompt-content {
            font-size: 13px;
            color: var(--text-sub);
            background: var(--input-bg);
            padding: 14px;
            border-radius: 8px;
            margin-bottom: 10px;
            line-height: 1.7;
            white-space: pre-wrap;
            border: 1px solid transparent;
        }

        .prompt-copy-btn {
            align-self: flex-end;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--accent-color);
            font-size: 12px;
            font-weight: 600;
            padding: 6px 14px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .prompt-copy-btn::before {
            content: "ğŸ“‹";
            font-size: 12px;
            margin-right: 4px;
        }

        .prompt-copy-btn:hover {
            background: var(--accent-color);
            color: #fff;
            border-color: var(--accent-color);
        }

        /* ã‚·ãƒ¼ãƒ³ç”»é¢ */
        .scene-view {
            display: none;
            flex-direction: column;
            height: 100%;
        }

        .nav-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            position: relative;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--text-sub);
            font-size: 15px;
            font-weight: 700;
            padding: 8px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: color 0.2s;
        }
        .back-btn:hover { color: var(--text-main); }
        .back-btn::before {
            content: "â€¹";
            font-size: 28px;
            margin-right: 4px;
            margin-top: -4px;
        }

        .scene-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Noto Serif JP', serif;
            font-weight: 900;
            font-size: 18px;
            color: var(--text-main);
            letter-spacing: 0.05em;
        }

        .form-group { margin-bottom: 24px; position: relative; }

        label {
            display: block;
            font-size: 14px;
            font-weight: 700;
            color: var(--text-sub);
            margin-bottom: 10px;
            letter-spacing: 0.02em;
        }

        textarea {
            width: 100%;
            height: 200px;
            padding: 16px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--input-border);
            background: var(--input-bg);
            color: var(--text-main);
            font-size: 16px;
            font-family: inherit;
            resize: none;
            outline: none;
            appearance: none;
            transition: border-color 0.2s, box-shadow 0.2s;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
            line-height: 1.8;
        }

        textarea::placeholder { color: #AAA; font-size: 14px; line-height: 1.7; }
        textarea:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(139, 30, 45, 0.1);
            background: var(--card-bg);
        }

        /* æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ */
        .char-counter {
            position: absolute;
            bottom: -22px;
            right: 4px;
            font-size: 11px;
            color: var(--text-sub);
            opacity: 0.8;
            font-family: 'Noto Sans JP', sans-serif;
        }

        select {
            width: 100%;
            padding: 14px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--input-border);
            background: var(--card-bg);
            color: var(--text-main);
            font-size: 16px;
            font-family: inherit;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%235c6c7b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 16px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }

        .warning-box {
            background-color: var(--danger-bg);
            color: var(--danger-text);
            padding: 16px;
            border-radius: var(--radius-sm);
            font-size: 13px;
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.3s ease;
            border-left: 4px solid var(--danger-text);
        }
        .warning-icon { margin-right: 12px; font-size: 18px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 16px;
            border-radius: 50px;
            border: none;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 16px;
            letter-spacing: 0.05em;
        }
        .btn:active { transform: scale(0.98); }

        .btn-primary {
            background: var(--primary-gradient);
            color: #fff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .btn-primary:hover { box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25); filter: brightness(1.1); }

        .btn-secondary {
            background: var(--card-bg);
            color: var(--text-main);
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .btn-secondary:hover { background: var(--bg-color); }
        
        .btn-clear {
            background: none;
            border: none;
            color: var(--text-sub);
            font-size: 13px;
            box-shadow: none;
            padding: 8px;
            margin-top: 4px;
            text-decoration: none;
            opacity: 0.7;
        }
        .btn-clear:hover { opacity: 1; }

        .result-area {
            margin-top: 32px;
            display: none;
            border-top: 1px solid var(--border-color);
            padding-top: 32px;
        }

        .result-box {
            background: var(--input-bg);
            padding: 24px;
            border-radius: var(--radius-sm);
            font-size: 14px;
            margin-bottom: 24px;
            white-space: pre-wrap;
            border: 1px solid var(--border-color);
            max-height: 400px;
            overflow-y: auto;
            line-height: 1.8;
            color: var(--text-main);
            box-shadow: inset 0 2px 6px rgba(0,0,0,0.03);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--modal-overlay);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.2s;
            backdrop-filter: blur(8px);
        }
        .modal-overlay.open { display: flex; opacity: 1; }

        .modal-content {
            background: var(--card-bg);
            width: 100%;
            max-width: 500px;
            border-radius: var(--radius);
            padding: 32px 28px;
            position: relative;
            box-shadow: var(--shadow-float);
            max-height: 85vh;
            overflow-y: auto;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            font-size: 28px;
            background: none;
            border: none;
            color: var(--text-sub);
            cursor: pointer;
            padding: 4px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }
        .modal-close:hover { background: var(--bg-color); }

        .modal-title {
            font-family: 'Noto Serif JP', serif;
            font-size: 20px;
            font-weight: 900;
            margin-bottom: 24px;
            color: var(--text-main);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 12px;
            letter-spacing: 0.05em;
        }

        .modal-section { margin-bottom: 32px; }

        .modal-h3 {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--text-main);
            display: flex;
            align-items: center;
            letter-spacing: 0.05em;
        }
        .modal-h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 16px;
            background: var(--accent-color);
            margin-right: 10px;
            border-radius: 2px;
        }

        .modal-text {
            font-size: 14px;
            color: var(--text-main);
            margin-bottom: 8px;
            line-height: 1.8;
        }

        .modal-list {
            padding-left: 0;
            list-style: none;
            font-size: 14px;
            color: var(--text-main);
            margin-bottom: 8px;
        }
        .modal-list li {
            margin-bottom: 12px;
            position: relative;
            padding-left: 20px;
            line-height: 1.8;
        }
        .modal-list li::before {
            content: "âœ”";
            color: var(--accent-color);
            position: absolute;
            left: 0;
            top: 0;
            font-size: 12px;
        }

        .settings-row { margin-bottom: 24px; }

        .theme-select {
            width: 100%;
            padding: 12px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            background: var(--input-bg);
            color: var(--text-main);
            font-size: 16px;
        }

        /* NGãƒ¯ãƒ¼ãƒ‰è¨­å®šç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«è¿½åŠ  */
        .settings-textarea {
            width: 100%;
            height: 80px;
            padding: 12px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            background: var(--input-bg);
            color: var(--text-main);
            font-size: 14px;
            resize: none;
            margin-bottom: 4px;
            line-height: 1.6;
        }
        .settings-textarea:focus {
            border-color: var(--accent-color);
            outline: none;
        }
        .settings-note {
            font-size: 12px;
            color: var(--text-sub);
            margin-top: 6px;
            line-height: 1.5;
        }

        .demo-area {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px dashed var(--border-color);
            text-align: center;
        }
        
        .demo-label {
            font-size: 12px;
            color: var(--text-sub);
            opacity: 0.8;
            margin-bottom: 12px;
            display: block;
            font-weight: 500;
        }

        .btn-demo {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-sub);
            font-size: 12px;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            margin: 0 4px;
            transition: all 0.2s;
        }
        .btn-demo:hover {
            background: var(--bg-color);
            border-color: var(--text-sub);
            color: var(--text-main);
        }

        /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background: rgba(15, 42, 68, 0.98); /* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã«åˆã‚ã›ãŸè‰²å‘³ */
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 14px 24px;
            position: fixed;
            z-index: 300;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%) translateY(10px);
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            letter-spacing: 0.05em;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            bottom: 50px;
        }
    </style>
</head>
<body>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
    <div id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</div>

    <!-- ãƒ›ãƒ¼ãƒ ç”»é¢ -->
    <div id="home-view" class="container">
        <header>
            <button class="settings-btn" onclick="app.openSettings()">âš™ï¸</button>
            <div class="header-icon-symbol">âš–ï¸</div>
            <h1>å¼è­·å£«ã®ãŸã‚ã®AIã²ãªå½¢</h1>
            <div class="subtitle">
                æ‰“ã¡åˆã‚ã›ã‚‚ã€æ›¸é¢ã‚‚ã€èª¬æ˜ã‚‚ã€‚<br>
                è¿·ã†å‰ã«ä½¿ãˆã‚‹ã€å®Ÿå‹™ã²ãªå½¢ã€‚
            </div>
            <div onclick="app.openUsage()" class="usage-link">ä½¿ã„æ–¹ã‚’è¦‹ã‚‹</div>
        </header>

        <div class="grid">
            <div class="card" onclick="app.openScene('A')">
                <div class="card-icon">ğŸ“</div>
                <div class="card-title">æ‰“ã¡åˆã‚ã›æ•´ç†<br>ã²ãªå½¢</div>
            </div>
            <div class="card" onclick="app.openScene('B')">
                <div class="card-icon">âš–ï¸</div>
                <div class="card-title">æ›¸é¢æ§‹æˆ<br>ã²ãªå½¢</div>
            </div>
            <div class="card" onclick="app.openScene('C')">
                <div class="card-icon">ğŸ—£ï¸</div>
                <div class="card-title">ä¾é ¼è€…èª¬æ˜<br>ã²ãªå½¢</div>
            </div>
            <div class="card" onclick="app.openScene('D')">
                <div class="card-icon">ğŸ”’</div>
                <div class="card-title">åŒ¿ååŒ–<br>ã²ãªå½¢</div>
            </div>
        </div>

        <!-- é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="magic-section">
            <div class="magic-title">AIåˆ¥ é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ <span>Copy & Paste</span></div>

            <!-- ChatGPT (ç§˜æ›¸) -->
            <details class="tool-group">
                <summary class="tool-summary">
                    <div style="display:flex; align-items:center;">
                        <span class="tool-icon">ğŸ¤–</span>
                        <span>ChatGPT</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="tool-role">ç§˜æ›¸å½¹</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                </summary>
                <div class="prompt-list">
                    <!-- æ—¢å­˜ -->
                    <div class="prompt-item">
                        <div class="prompt-label">ãƒ¡ãƒ¼ãƒ«è¿”ä¿¡ï¼ˆè§’ã‚’ç«‹ã¦ãšã«æ–­ã‚‹ï¼‰</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®ãƒ¡ãƒ¼ãƒ«ã«å¯¾ã—ã€å¼è­·å£«ã¨ã—ã¦ä»Šå¾Œã®é–¢ä¿‚ã‚’ç¶­æŒã—ã¤ã¤ã€è§’ãŒç«‹ãŸãªã„ã‚ˆã†ã«ã€ã‹ã¤æ˜ç¢ºã«ä¾é ¼ã‚’æ–­ã‚‹è¿”ä¿¡æ¡ˆã‚’ä¸å¯§ã«ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ—¥ç¨‹èª¿æ•´ãƒ»ã‚¿ã‚¹ã‚¯åˆ†è§£</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã¾ãŸã¯æ¡ˆä»¶ï¼‰ã‚’é‚è¡Œã™ã‚‹ãŸã‚ã«å¿…è¦ãªå·¥ç¨‹ã‚’ã€æ™‚ç³»åˆ—é †ã«ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå½¢å¼ã§æ´—ã„å‡ºã—ã€å¤§ã¾ã‹ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¡ˆã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">é•·æ–‡è¦ç´„ï¼ˆä¸­å­¦ç”Ÿãƒ¬ãƒ™ãƒ«ï¼‰</div>
                        <div class="prompt-content">ã“ã®æ–‡ç« ã‚’ã€æ³•å¾‹çŸ¥è­˜ã®ãªã„ä¸­å­¦ç”Ÿã§ã‚‚åˆ†ã‹ã‚‹ã‚ˆã†ã«ã€å°‚é–€ç”¨èªã‚’ä½¿ã‚ãšå¹³æ˜“ãªè¨€è‘‰ã§è¦ç´„ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ç¿»è¨³ï¼ˆæ³•å‹™è‹±èªï¼‰</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ—¥æœ¬èªã‚’è‹±èªã«ç¿»è¨³ã—ã¦ãã ã•ã„ã€‚ãã®éš›ã€æ³•çš„ãªæ–‡è„ˆã«ãŠã„ã¦è‡ªç„¶ã§æ­£ç¢ºãªè¡¨ç¾ï¼ˆLegal Englishï¼‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">å£æ‰“ã¡ï¼ˆåè«–ã®æ¤œè¨ï¼‰</div>
                        <div class="prompt-content">å£æ‰“ã¡ç›¸æ‰‹ã«ãªã£ã¦ãã ã•ã„ã€‚ç§ã¯å¼è­·å£«ã§ã€ä»¥ä¸‹ã®äº‹ä»¶ã®æ–¹é‡ã‚’æ‚©ã‚“ã§ã„ã¾ã™ã€‚ç›¸æ‰‹æ–¹ä»£ç†äººã«ãªã£ãŸã¤ã‚‚ã‚Šã§ã€ç§ã®ä¸»å¼µã«å¯¾ã™ã‚‹é‹­ã„åè«–ã‚’5ã¤æŒ™ã’ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <!-- æ–°è¦è¿½åŠ åˆ† -->
                    <div class="prompt-item">
                        <div class="prompt-label">ç›¸è«‡ãƒ¡ãƒ¢æ•´ç†</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®ãƒ¡ãƒ¢ã‚’ã€
ãƒ»äº‹å®Ÿé–¢ä¿‚
ãƒ»ä¾é ¼è€…ã®ä¸»å¼µ
ãƒ»æ³•çš„è«–ç‚¹
ãƒ»æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
ã®4é …ç›®ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚
ï¼ˆã“ã“ã«ãƒ¡ãƒ¢ã‚’è²¼ã‚‹ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ä¾é ¼è€…èª¬æ˜ã®è¨€ã„æ›ãˆ</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ–‡ç« ã‚’ã€æ³•å¾‹çŸ¥è­˜ã®ãªã„ä¸€èˆ¬ã®æ–¹ã«ã‚‚ä¼ã‚ã‚‹ã‚ˆã†ã«ã€
ã‚„ã•ã—ã„è¨€è‘‰ã§è¨€ã„æ›ãˆã¦ãã ã•ã„ã€‚
ï¼ˆæ–‡ç« ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">å†…å®¹è¨¼æ˜ã²ãªå½¢</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ¡ä»¶ã§ã€å†…å®¹è¨¼æ˜éƒµä¾¿ã®ãŸãŸãå°ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
ãƒ»ç›¸æ‰‹ï¼š
ãƒ»ç›®çš„ï¼š
ãƒ»è¦æ±‚å†…å®¹ï¼š
ãƒ»æœŸé™ï¼š</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">å’Œè§£æ¡ˆã®æ–‡ç« åŒ–</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®å’Œè§£æ¡ä»¶ã‚’ã€
å½“äº‹è€…åŒæ–¹ã«é…æ…®ã—ãŸä¸å¯§ãªæ–‡ç« ã«ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚
ï¼ˆæ¡ä»¶ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">åˆå›ç›¸è«‡ãƒ’ã‚¢ãƒªãƒ³ã‚°</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ¡ˆä»¶å†…å®¹ã‚’ã‚‚ã¨ã«ã€
åˆå›ç›¸è«‡æ™‚ã«ç¢ºèªã™ã¹ãè³ªå•ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
ï¼ˆæ¡ˆä»¶æ¦‚è¦ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">å¥‘ç´„æ›¸ãƒã‚§ãƒƒã‚¯è¦³ç‚¹</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®å¥‘ç´„æ›¸ã«ã¤ã„ã¦ã€
ãƒªã‚¹ã‚¯ã«ãªã‚Šã‚„ã™ã„æ¡æ–‡ã¨ç¢ºèªãƒã‚¤ãƒ³ãƒˆã‚’ç®‡æ¡æ›¸ãã§å‡ºã—ã¦ãã ã•ã„ã€‚
ï¼ˆå¥‘ç´„æ›¸å…¨æ–‡ or ä¸€éƒ¨ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æº–å‚™æ›¸é¢æ§‹æˆæ¡ˆ</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ¡ˆä»¶ã«ã¤ã„ã¦ã€
æº–å‚™æ›¸é¢ã®æ§‹æˆæ¡ˆã‚’è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ã§ä½œæˆã—ã¦ãã ã•ã„ã€‚
ï¼ˆæ¡ˆä»¶æ¦‚è¦ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ³•å¾‹ã‚³ãƒ©ãƒ æ¡ˆ</div>
                        <div class="prompt-content">ä¸€èˆ¬å‘ã‘ã«ã€
ã€Œã€‡ã€‡ï¼ˆãƒ†ãƒ¼ãƒï¼‰ã€ã«ã¤ã„ã¦
800æ–‡å­—ç¨‹åº¦ã®æ³•å¾‹ã‚³ãƒ©ãƒ æ¡ˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ã‚»ãƒŸãƒŠãƒ¼æ§‹æˆæ¡ˆ</div>
                        <div class="prompt-content">ã€Œã€‡ã€‡ï¼ˆãƒ†ãƒ¼ãƒï¼‰ã€ã«ã¤ã„ã¦
60åˆ†ã‚»ãƒŸãƒŠãƒ¼ã®æ§‹æˆæ¡ˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
å°å…¥ã€äº‹ä¾‹ã€æ³¨æ„ç‚¹ã€ã¾ã¨ã‚ã®æµã‚Œã§ãŠé¡˜ã„ã—ã¾ã™ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ¥­å‹™æ”¹å–„ã‚¢ã‚¤ãƒ‡ã‚¢</div>
                        <div class="prompt-content">å¼è­·å£«äº‹å‹™æ‰€ã®æ¥­å‹™åŠ¹ç‡ã‚’ä¸Šã’ã‚‹ãŸã‚ã®
æ”¹å–„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’10å€‹å‡ºã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </details>

            <!-- Gemini (èª¿æŸ»å“¡) -->
            <details class="tool-group">
                <summary class="tool-summary">
                    <div style="display:flex; align-items:center;">
                        <span class="tool-icon">ğŸ’</span>
                        <span>Gemini</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="tool-role">èª¿æŸ»å“¡å½¹</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                </summary>
                <div class="prompt-list">
                    <!-- ãƒ•ãƒ«å·®ã—æ›¿ãˆ -->
                    <div class="prompt-item">
                        <div class="prompt-label">æ³•æ”¹æ­£ãƒã‚§ãƒƒã‚¯</div>
                        <div class="prompt-content">â—‹â—‹æ³•æ”¹æ­£ï¼ˆä»¤å’Œâ—‹å¹´ãƒ»ç›´è¿‘ã®ã‚‚ã®ï¼‰ã®ä¸»ãªå¤‰æ›´ç‚¹ã¨ã€
å¼è­·å£«å®Ÿå‹™ã¸ã®å…·ä½“çš„ãªå½±éŸ¿ã‚’ç°¡æ½”ã«ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚
å‡ºå…¸URLã‚‚ä½µè¨˜ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">è£åˆ¤ä¾‹ãƒˆãƒ¬ãƒ³ãƒ‰</div>
                        <div class="prompt-content">æœ€è¿‘ã®è£åˆ¤ä¾‹ã«ãŠã„ã¦ã€
â—‹â—‹ï¼ˆãƒ†ãƒ¼ãƒï¼‰ã«é–¢ã™ã‚‹åˆ¤æ–­å‚¾å‘ã‚„
æå®³è³ å„Ÿé¡ã®æ°´æº–ã‚’æ•´ç†ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ç”¨èªå®šç¾©ã¨é•ã„</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ³•å¾‹ç”¨èªã®å®šç¾©ã¨ã€
é¡ä¼¼èªã¨ã®é•ã„ã‚’è¡¨å½¢å¼ã§è§£èª¬ã—ã¦ãã ã•ã„ã€‚
ï¼ˆç”¨èªï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ¥­ç•Œåˆ¥ãƒªã‚¹ã‚¯èª¿æŸ»</div>
                        <div class="prompt-content">â—‹â—‹æ¥­ç•Œã§æœ€è¿‘å•é¡Œã«ãªã£ã¦ã„ã‚‹
æ³•çš„ãƒªã‚¹ã‚¯ã‚„ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹èª²é¡Œã‚’èª¿æŸ»ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ³•å¾‹ãƒ‹ãƒ¥ãƒ¼ã‚¹è¦ç´„</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®è¨˜äº‹ã‚’
å¼è­·å£«å®Ÿå‹™ã«é–¢ä¿‚ã™ã‚‹è¦ç‚¹3ã¤ã«è¦ç´„ã—ã¦ãã ã•ã„ã€‚
ï¼ˆè¨˜äº‹æœ¬æ–‡ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ</div>
                        <div class="prompt-content">ã“ã®ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦
åˆ¤ä¾‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¤œç´¢ç”¨ã®
åŠ¹æœçš„ãªæ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’10å€‹ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æµ·å¤–æ³•ãƒªã‚µãƒ¼ãƒ</div>
                        <div class="prompt-content">â—‹â—‹å›½ã®
â—‹â—‹åˆ†é‡ã«é–¢ã™ã‚‹æ³•åˆ¶åº¦ã®æ¦‚è¦ã‚’
æ—¥æœ¬æ³•ã¨æ¯”è¼ƒã—ã¦æ•´ç†ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ä¼æ¥­ãƒªã‚¹ã‚¯è¨ºæ–­</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®ä¼šç¤¾æƒ…å ±ã‹ã‚‰ã€
æƒ³å®šã•ã‚Œã‚‹æ³•çš„ãƒªã‚¹ã‚¯ã‚’
ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚
ï¼ˆä¼šç¤¾æ¦‚è¦ï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">å¥‘ç´„é¡å‹æ¯”è¼ƒ</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®å¥‘ç´„é¡å‹ã«ã¤ã„ã¦ã€
ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’è¡¨å½¢å¼ã§æ¯”è¼ƒã—ã¦ãã ã•ã„ã€‚
ï¼ˆå¥‘ç´„åï¼‰</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ã‚»ãƒŸãƒŠãƒ¼åŸç¨¿ä½œæˆ</div>
                        <div class="prompt-content">ã€Œã€‡ã€‡ï¼ˆãƒ†ãƒ¼ãƒï¼‰ã€ã®
ã‚»ãƒŸãƒŠãƒ¼ã‚¹ãƒ©ã‚¤ãƒ‰åŸç¨¿ã‚’
10æšåˆ†ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </details>

            <!-- NotebookLM (å›³æ›¸é¤¨) -->
            <details class="tool-group">
                <summary class="tool-summary">
                    <div style="display:flex; align-items:center;">
                        <span class="tool-icon">ğŸ“š</span>
                        <span>NotebookLM</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="tool-role">å›³æ›¸é¤¨å½¹</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                </summary>
                <div class="prompt-list">
                    <!-- ãƒ•ãƒ«å·®ã—æ›¿ãˆ -->
                    <div class="prompt-item">
                        <div class="prompt-label">åˆ¤ä¾‹è¦ç‚¹æŠ½å‡º</div>
                        <div class="prompt-content">ã“ã®è³‡æ–™ã‹ã‚‰
ãƒ»äº‰ç‚¹
ãƒ»è£åˆ¤æ‰€ã®åˆ¤æ–­
ãƒ»å®Ÿå‹™ã¸ã®ç¤ºå”†
ã‚’æ•´ç†ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ¡æ–‡ãƒ†ãƒ³ãƒ—ãƒ¬åŒ–</div>
                        <div class="prompt-content">ã“ã®è³‡æ–™ç¾¤ã‹ã‚‰ã€
ã‚ˆãä½¿ã†æ¡æ–‡ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠœãå‡ºã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ã‚»ãƒŸãƒŠãƒ¼è¦ç´„</div>
                        <div class="prompt-content">ã“ã®è³‡æ–™ã‚’
10åˆ†ã§è©±ã›ã‚‹è¦ç‚¹ã«ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ã‚¯ãƒ¬ãƒ¼ãƒ äº‹ä¾‹æ•´ç†</div>
                        <div class="prompt-content">ã“ã®äº‹ä¾‹ã‚’
åŸå› ã€å¯¾å¿œã€æ•™è¨“ã®3ç‚¹ã§æ•´ç†ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">åŸç¨¿ãƒªãƒ©ã‚¤ãƒˆ</div>
                        <div class="prompt-content">ã“ã®åŸç¨¿ã‚’
ä¸€èˆ¬å‘ã‘ãƒ–ãƒ­ã‚°è¨˜äº‹ã«æ›¸ãç›´ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ãƒãƒ‹ãƒ¥ã‚¢ãƒ«çµ±åˆ</div>
                        <div class="prompt-content">ã“ã‚Œã‚‰ã®è³‡æ–™ã‚’çµ±åˆã—ã€
1æœ¬ã®æ¥­å‹™ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã«ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">FAQç”Ÿæˆ</div>
                        <div class="prompt-content">ã“ã®è³‡æ–™ã‹ã‚‰
ã‚ˆãã‚ã‚‹è³ªå•ã¨å›ç­”ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ç ”ä¿®ãƒ†ã‚¹ãƒˆä½œæˆ</div>
                        <div class="prompt-content">ã“ã®å†…å®¹ã‚’ã‚‚ã¨ã«
ç ”ä¿®ç”¨ã®ç¢ºèªãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ãƒŠãƒ¬ãƒƒã‚¸æ¤œç´¢QA</div>
                        <div class="prompt-content">ã“ã®è³‡æ–™ç¾¤ã‹ã‚‰
ã€‡ã€‡ã«ã¤ã„ã¦ã®è¦ç‚¹ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">é¡§å•å¥‘ç´„ææ¡ˆææ–™</div>
                        <div class="prompt-content">ã“ã®ä¼šç¤¾å‘ã‘ã«
é¡§å•å¥‘ç´„ææ¡ˆã®ãƒã‚¤ãƒ³ãƒˆã‚’æ•´ç†ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </details>
        </div>
    </div>

    <!-- ã‚·ãƒ¼ãƒ³ç”»é¢ (å…±é€šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ) -->
    <div id="scene-view" class="container scene-view">
        <div class="nav-header">
            <button class="back-btn" onclick="app.goHome()">æˆ»ã‚‹</button>
            <div class="scene-title" id="scene-title-text">ã‚·ãƒ¼ãƒ³å</div>
            <button class="settings-btn" onclick="app.openSettings()">âš™ï¸</button>
        </div>

        <div class="form-group">
            <label>å…¥åŠ›æ¬„ï¼ˆã“ã“ã«è²¼ã‚Šä»˜ã‘ï¼‰</label>
            <textarea id="user-input" placeholder="" oninput="app.checkInput()" spellcheck="false"></textarea>
            <div id="char-count" class="char-counter">0æ–‡å­—</div>
        </div>

        <div id="warning-box" class="warning-box">
            <span class="warning-icon">âš ï¸</span>
            <div id="warning-msg"></div>
        </div>

        <div class="form-group" id="option-container">
            <div id="opt-B" class="opt-group" style="display:none;">
                <label>ä½œæˆç›®çš„</label>
                <select id="select-B">
                    <option value="ãƒ¡ãƒ¢ç”¨">ãƒ¡ãƒ¢ç”¨ï¼ˆçŸ­ãæ•´ç†ï¼‰</option>
                    <option value="æº–å‚™æ›¸é¢ç”¨">æº–å‚™æ›¸é¢ç”¨ï¼ˆæ§‹æˆæ¡ˆã¨ã—ã¦ï¼‰</option>
                </select>
            </div>
            <div id="opt-C" class="opt-group" style="display:none;">
                <label>æ–‡ç« ã®é•·ã•</label>
                <select id="select-C">
                    <option value="çŸ­ã‚">çŸ­ã‚ï¼ˆ200ã€œ300å­—ï¼‰</option>
                    <option value="æ™®é€š" selected>æ™®é€šï¼ˆ400ã€œ600å­—ï¼‰</option>
                    <option value="ä¸å¯§">ä¸å¯§ï¼ˆ800å­—å‰å¾Œãƒ»ä¾‹ãˆã‚ã‚Šï¼‰</option>
                </select>
            </div>
            <div id="opt-D" class="opt-group" style="display:none;">
                <label>åŒ¿ååŒ–ãƒ¬ãƒ™ãƒ«</label>
                <select id="select-D">
                    <option value="ä½">ä½ï¼ˆå€‹äººåãƒ»ä¼šç¤¾åã®ã¿ï¼‰</option>
                    <option value="ä¸­" selected>ä¸­ï¼ˆåœ°åãƒ»æ—¥æ™‚ã‚‚å«ã‚ã‚‹ï¼‰</option>
                    <option value="é«˜">é«˜ï¼ˆç‰¹å®šã•ã‚Œã†ã‚‹å½¹è·ç­‰ã‚‚ã¼ã‹ã™ï¼‰</option>
                </select>
            </div>
        </div>

        <button class="btn btn-primary" onclick="app.generate()">ç”Ÿæˆã™ã‚‹</button>

        <div id="result-area" class="result-area">
            <label>ç”Ÿæˆçµæœï¼ˆAIã¸ã®æŒ‡ç¤ºãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰</label>
            <div class="result-box" id="result-text"></div>
            <button id="copy-btn" class="btn btn-secondary" onclick="app.copyResult()">ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
            <button class="btn btn-clear" onclick="app.clearInput()">å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢</button>
        </div>
    </div>

    <!-- ä½¿ã„æ–¹ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="usage-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="app.closeModal('usage-modal')">Ã—</button>
            <div class="modal-title">ä½¿ã„æ–¹ãƒ»ç›®çš„</div>
            <div class="modal-section">
                <div class="modal-h3">ã‚¢ãƒ—ãƒªã®ç›®çš„</div>
                <p class="modal-text">å¼è­·å£«æ¥­å‹™ã«ãŠã‘ã‚‹ã€ŒAIã¸ã®æŒ‡ç¤ºå‡ºã—ã€ã‚’åŠ¹ç‡åŒ–ãƒ»é«˜å“è³ªåŒ–ã™ã‚‹ãŸã‚ã®æ”¯æ´ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<br>æ€è€ƒã‚’å¦¨ã’ã‚‹ã“ã¨ãªããƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ã€å®Ÿå‹™ã«å³ã—ãŸç²¾åº¦ã®é«˜ã„æŒ‡ç¤ºæ–‡ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’ä½œæˆã§ãã¾ã™ã€‚</p>
            </div>
            <div class="modal-section">
                <div class="modal-h3">åˆ©ç”¨æ‰‹é †</div>
                <ul class="modal-list">
                    <li><strong>1. ã‚·ãƒ¼ãƒ³é¸æŠ</strong><br>ãƒ›ãƒ¼ãƒ ç”»é¢ã‹ã‚‰ã€ç›®çš„ã«åˆã£ãŸã‚·ãƒ¼ãƒ³ï¼ˆã‚«ãƒ¼ãƒ‰ï¼‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</li>
                    <li><strong>2. æƒ…å ±å…¥åŠ›</strong><br>å…¥åŠ›æ¬„ã«ã€æ•´ç†ã—ãŸã„æ‰‹å…ƒã®ãƒ¡ãƒ¢ã‚„è³‡æ–™ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚</li>
                    <li><strong>3. ç”Ÿæˆå®Ÿè¡Œ</strong><br>å¿…è¦ã«å¿œã˜ã¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã€Œç”Ÿæˆã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€AIã¸ã®æœ€é©ãªæŒ‡ç¤ºæ–‡ãŒä½œæˆã•ã‚Œã¾ã™ã€‚</li>
                    <li><strong>4. æ´»ç”¨</strong><br>ãƒ›ãƒ¼ãƒ ä¸‹éƒ¨ã®ã€Œé­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã§ã¯ã€å®Ÿå‹™ã§é »å‡ºã™ã‚‹å®šå‹æ–‡ã‚’ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ã‚³ãƒ”ãƒ¼ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚</li>
                </ul>
            </div>
            <div class="modal-section">
                <div class="modal-h3">æ³¨æ„äº‹é …</div>
                <p class="modal-text">ãƒ»å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œãšã€ãŠä½¿ã„ã®ç«¯æœ«å†…ã§ã®ã¿å®‰å…¨ã«å‡¦ç†ã•ã‚Œã¾ã™ã€‚<br>ãƒ»ç”Ÿæˆã•ã‚ŒãŸå›ç­”ã¯ã€å¿…ãšå°‚é–€å®¶ã¨ã—ã¦ã®çŸ¥è¦‹ã«åŸºã¥ãæœ€çµ‚ç¢ºèªã‚’è¡Œã£ã¦ãã ã•ã„ã€‚<br>ãƒ»æ¥µã‚ã¦æ©Ÿå¯†æ€§ã®é«˜ã„å€‹äººæƒ…å ±ï¼ˆå…·ä½“çš„ãªå£åº§ç•ªå·ç­‰ï¼‰ã¯ã€å…¥åŠ›å‰ã«ã‚ã‚‹ç¨‹åº¦ä¼ã›ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</p>
            </div>
        </div>
    </div>

    <!-- è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="settings-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="app.closeModal('settings-modal')">Ã—</button>
            <div class="modal-title">è¨­å®š</div>
            
            <div class="settings-row">
                <label>è‰²åˆã„ï¼ˆãƒ†ãƒ¼ãƒï¼‰</label>
                <select id="theme-select" class="theme-select" onchange="app.changeTheme(this.value)">
                    <option value="auto">ç«¯æœ«ã®è¨­å®šã«åˆã‚ã›ã‚‹</option>
                    <option value="light">ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰</option>
                    <option value="dark">ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</option>
                </select>
            </div>
            
            <div class="settings-row">
                <label>NGãƒ¯ãƒ¼ãƒ‰è¨­å®š</label>
                <textarea id="ng-words-input" class="settings-textarea" placeholder="ä¾‹ï¼šç¤¾å¤–ç§˜, ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆAlpha, ç›¸æ‰‹æ–¹æ°å, æ ªå¼ä¼šç¤¾â—â—, ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼, æ¥µç§˜" onchange="app.saveNgWords()"></textarea>
                <p class="settings-note">â€»æŒ‡å®šã—ãŸå˜èªãŒå«ã¾ã‚Œã‚‹ã¨å…¥åŠ›ç”»é¢ã§è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¤‡æ•°æŒ‡å®šå¯ï¼‰ã€‚</p>
            </div>

            <div class="demo-area">
                <span class="demo-label">ãƒ‡ãƒ¢ãƒ»å‹•ä½œç¢ºèªç”¨</span>
                <button class="btn-demo" onclick="app.loadDemoData()">ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿å…¥åŠ›</button>
                <button class="btn-demo" onclick="app.clearDemoData()">ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢</button>
            </div>
        </div>
    </div>

    <script>
        const app = {
            currentScene: null,
            ngWords: [],

            scenes: {
                'A': { 
                    title: 'æ‰“ã¡åˆã‚ã›æ•´ç†', 
                    hasOpt: false,
                    placeholder: "ï¼ˆä¾‹ï¼‰\næ—¥æ™‚ï¼šä»¤å’Œ6å¹´5æœˆ10æ—¥ 14:00ã€œ15:00\nå ´æ‰€ï¼šå½“äº‹å‹™æ‰€ä¼šè­°å®¤\nç›¸æ‰‹ï¼šä¾é ¼è€…Aï¼ˆ50ä»£ç”·æ€§ï¼‰\n\nã€å†…å®¹ã€‘\näº¤é€šäº‹æ•…ï¼ˆè¢«å®³è€…å´ï¼‰ã®ä»¶ã€‚\nç›¸æ‰‹ä¿é™ºä¼šç¤¾ã®æç¤ºé¡ï¼ˆ120ä¸‡å††ï¼‰ã«ä¸æº€ãŒã‚ã‚‹ã€‚\nä¼‘æ¥­æå®³ã®è¨ˆç®—ãŒãŠã‹ã—ã„ã¨æ„Ÿã˜ã¦ã„ã‚‹ã€‚\nå¾Œéºéšœå®³ç­‰ç´šã¯14ç´š9å·ã€‚\nã§ãã‚Œã°è¨´è¨Ÿã¯é¿ã‘ãŸã„ãŒã€å¢—é¡ã®ãŸã‚ãªã‚‰è¾ã•ãªã„ã€‚\n..." 
                },
                'B': { 
                    title: 'æ›¸é¢æ§‹æˆ', 
                    hasOpt: true, 
                    optId: 'opt-B',
                    placeholder: "ï¼ˆä¾‹ï¼‰\næœ¬ä»¶ã®äº‰ç‚¹æ•´ç†ï¼š\n1. è²¸é‡‘è¿”é‚„è«‹æ±‚äº‹ä»¶\n2. åŸå‘Šï¼ˆå½“æ–¹ï¼‰ã¯è¢«å‘Šã«300ä¸‡å††ã‚’äº¤ä»˜ã—ãŸã€‚\n3. å€Ÿç”¨æ›¸ã‚ã‚Šï¼ˆç”²1å·è¨¼ï¼‰ã€‚\n4. è¢«å‘Šã¯ã€Œã‚ã‚Œã¯è´ˆä¸ã ã£ãŸã€ã¨ä¸»å¼µã€‚\n5. ç›´å¾Œã®ãƒ¡ãƒ¼ãƒ«ï¼ˆç”²2å·è¨¼ï¼‰ã§ã€Œå¿…ãšè¿”ã™ã€ã¨ã®è¨˜è¼‰ã‚ã‚Šã€‚\n\nã“ã‚Œã‚‰ã‚’å…ƒã«ã€è¢«å‘Šã®è´ˆä¸ä¸»å¼µã‚’æ’æ–¥ã™ã‚‹æ§‹æˆã‚’è€ƒãˆãŸã„ã€‚" 
                },
                'C': { 
                    title: 'ä¾é ¼è€…èª¬æ˜', 
                    hasOpt: true, 
                    optId: 'opt-C',
                    placeholder: "ï¼ˆä¾‹ï¼‰\nã€è§£èª¬ã—ãŸã„æ³•å¾‹æ¦‚å¿µã€‘\næ¶ˆæ»…æ™‚åŠ¹ã«ã¤ã„ã¦ã€‚\n\nã€è©³ç´°ã€‘\næ¨©åˆ©ã‚’è¡Œä½¿ã§ãã‚‹ã“ã¨ã‚’çŸ¥ã£ãŸæ™‚ã‹ã‚‰5å¹´ã€è¡Œä½¿ã§ãã‚‹æ™‚ã‹ã‚‰10å¹´ã§æ¨©åˆ©ãŒæ¶ˆæ»…ã™ã‚‹åˆ¶åº¦ã€‚\nä»Šå›ã®ã‚±ãƒ¼ã‚¹ã§ã¯ã€äº‹æ•…ã‹ã‚‰ã¾ã 2å¹´ãªã®ã§æ™‚åŠ¹å®Œæˆå‰ã§ã‚ã‚‹ã“ã¨ã‚’ä¼ãˆãŸã„ã€‚\nä¸­æ–­ï¼ˆæ›´æ–°ï¼‰æªç½®ã®å¿…è¦æ€§ã‚‚è§¦ã‚Œã¦ãŠããŸã„ã€‚" 
                },
                'D': { 
                    title: 'åŒ¿ååŒ–', 
                    hasOpt: true, 
                    optId: 'opt-D',
                    placeholder: "ï¼ˆä¾‹ï¼‰\nç”²é‡å¤ªéƒï¼ˆæ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1åœ¨ä½ï¼‰ã¯ã€ä»¤å’Œ5å¹´12æœˆ1æ—¥ã€æ ªå¼ä¼šç¤¾ABCï¼ˆä»£è¡¨å–ç· å½¹ ä¹™å±±æ¬¡éƒï¼‰ã«å¯¾ã—ã¦é€šçŸ¥æ›¸ã‚’é€ä»˜ã—ãŸã€‚\nãã®ä¸­ã§ã€æ¸‹è°·æ”¯åº—ã®ä¸™å·ä¸‰éƒåº—é•·ã®å¯¾å¿œã«ã¤ã„ã¦è‹¦æƒ…ã‚’ç”³ã—å…¥ã‚ŒãŸã€‚" 
                }
            },

            init: function() {
                const savedTheme = localStorage.getItem('app_theme') || 'auto';
                document.getElementById('theme-select').value = savedTheme;
                this.changeTheme(savedTheme);
                
                const savedNgWords = localStorage.getItem('app_ng_words') || '';
                document.getElementById('ng-words-input').value = savedNgWords;
                this.updateNgWordsList(savedNgWords);
            },
            
            saveNgWords: function() {
                const input = document.getElementById('ng-words-input').value;
                localStorage.setItem('app_ng_words', input);
                this.updateNgWordsList(input);
                this.checkInput();
                this.showToast('è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
            },
            
            updateNgWordsList: function(text) {
                this.ngWords = text.split(/,|ã€/).map(w => w.trim()).filter(w => w.length > 0);
            },

            openScene: function(sceneId) {
                this.currentScene = sceneId;
                const scene = this.scenes[sceneId];
                document.getElementById('scene-title-text').innerText = scene.title;
                document.getElementById('user-input').placeholder = scene.placeholder;
                document.getElementById('home-view').style.display = 'none';
                document.getElementById('scene-view').style.display = 'flex';
                this.clearInput();
                document.querySelectorAll('.opt-group').forEach(el => el.style.display = 'none');
                if (scene.hasOpt) {
                    document.getElementById(scene.optId).style.display = 'block';
                }
                window.scrollTo(0, 0);
            },

            goHome: function() {
                document.getElementById('scene-view').style.display = 'none';
                document.getElementById('home-view').style.display = 'flex';
                this.currentScene = null;
            },

            openUsage: function() { document.getElementById('usage-modal').classList.add('open'); },
            openSettings: function() { document.getElementById('settings-modal').classList.add('open'); },
            closeModal: function(id) { document.getElementById(id).classList.remove('open'); },

            changeTheme: function(theme) {
                localStorage.setItem('app_theme', theme);
                const root = document.documentElement;
                if (theme === 'auto') root.removeAttribute('data-theme');
                else root.setAttribute('data-theme', theme);
            },

            loadDemoData: function() {
                let targetScene = this.currentScene;
                if (!targetScene) {
                    this.openScene('A');
                    targetScene = 'A';
                    this.closeModal('settings-modal');
                } else {
                    this.closeModal('settings-modal');
                }
                const demoText = this.scenes[targetScene].placeholder.replace('ï¼ˆä¾‹ï¼‰\n', '');
                const input = document.getElementById('user-input');
                input.value = demoText;
                this.checkInput();
                this.showToast('ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¾ã—ãŸ');
            },

            clearDemoData: function() {
                this.clearInput();
                this.closeModal('settings-modal');
                this.showToast('å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
            },

            checkInput: function() {
                const text = document.getElementById('user-input').value;
                const warningBox = document.getElementById('warning-box');
                const warningMsg = document.getElementById('warning-msg');
                
                const count = text.length;
                document.getElementById('char-count').innerText = `${count}æ–‡å­—`;
                
                const piiRegex = /\d{2,4}-\d{2,4}-\d{4}|\d{3}-\d{4}/;
                const hasPii = piiRegex.test(text);
                
                const hitNgWords = this.ngWords.filter(word => text.includes(word));
                const hasNg = hitNgWords.length > 0;

                if (hasPii || hasNg) {
                    warningBox.style.display = 'flex';
                    let msgHTML = '';
                    
                    if (hasNg) {
                         msgHTML += `<div style="margin-bottom:8px;"><strong>NGãƒ¯ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã¾ã™</strong><br>æ¤œçŸ¥: ${hitNgWords.join(', ')}</div>`;
                    }
                    if (hasPii) {
                         msgHTML += `<div><strong>å€‹äººæƒ…å ±ã®å¯èƒ½æ€§ã‚ã‚Š</strong><br>é›»è©±ç•ªå·ã‚„ä½æ‰€ã®ã‚ˆã†ãªæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</div>`;
                    }
                    
                    warningMsg.innerHTML = msgHTML;
                } else {
                    warningBox.style.display = 'none';
                    warningMsg.innerHTML = '';
                }
            },

            clearInput: function() {
                document.getElementById('user-input').value = '';
                document.getElementById('result-area').style.display = 'none';
                document.getElementById('warning-box').style.display = 'none';
                document.getElementById('char-count').innerText = '0æ–‡å­—';
            },

            generate: function() {
                const input = document.getElementById('user-input').value;
                if (!input.trim()) {
                    this.showToast('ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }
                let prompt = '';
                const scene = this.currentScene;

                if (scene === 'A') {
                    prompt = `ä»¥ä¸‹ã¯ã€å¼è­·å£«ã¨ä¾é ¼è€…ã¨ã®æ‰“ã¡åˆã‚ã›è¨˜éŒ²ã§ã™ã€‚
ã“ã®å†…å®¹ã‚’æ³•å¾‹å®Ÿå‹™ã§ä½¿ãˆã‚‹å½¢ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚

ã€å‡ºåŠ›é …ç›®ã€‘
1 äº‹å®Ÿé–¢ä¿‚ï¼ˆæ™‚ç³»åˆ—ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ï¼‰
2 å½“äº‹è€…ã®ä¸»å¼µãƒ»æ„å‘
3 æœªç¢ºå®šäº‹é …ãƒ»è¦ç¢ºèªäº‹é …
4 å¼è­·å£«å´ã®æ•´ç†ãƒ¡ãƒ¢ï¼ˆæ¬¡ã®å¯¾å¿œã«å‘ã‘ãŸè¦³ç‚¹ï¼‰

ã€æ¡ä»¶ã€‘
æ„Ÿæƒ…çš„è¡¨ç¾ã‚„é›‘è«‡ã¯æ•´ç†ã—ã€å®Ÿå‹™ã§ãã®ã¾ã¾ä½¿ãˆã‚‹ç°¡æ½”ãªæ–‡ç« ã§ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚

ã€å…¥åŠ›å†…å®¹ã€‘
${input}`;
                } 
                else if (scene === 'B') {
                    const purpose = document.getElementById('select-B').value;
                    const purposeNote = purpose === 'æº–å‚™æ›¸é¢ç”¨' 
                        ? 'æº–å‚™æ›¸é¢ã®ä¸‹æ›¸ãã®éª¨å­ã¨ã—ã¦ä½¿ãˆã‚‹ç²’åº¦ã§ä½œæˆã—ã¦ãã ã•ã„ã€‚' 
                        : 'ãƒ¡ãƒ¢ã¨ã—ã¦çŸ­ãè¦ç‚¹ã‚’ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚';
                    prompt = `ä»¥ä¸‹ã®æ•´ç†æ¸ˆã¿å†…å®¹ã‚’ã‚‚ã¨ã«ã€è£åˆ¤å®Ÿå‹™ã‚’æƒ³å®šã—ãŸæ§‹æˆæ¡ˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€å‡ºåŠ›é …ç›®ã€‘
1 æœ¬ä»¶ã®äº‰ç‚¹
2 å½“æ–¹ã®ä¸»å¼µã®éª¨å­
3 æƒ³å®šã•ã‚Œã‚‹ç›¸æ‰‹æ–¹ã®åè«–
4 è¿½åŠ ã§ç¢ºèªãƒ»è£œå¼·ãŒå¿…è¦ãªäº‹å®Ÿã‚„è¨¼æ‹ 

ã€æ¡ä»¶ã€‘
ãƒ»è«–ç†ã®æµã‚ŒãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚
ãƒ»æœ€çµ‚åˆ¤æ–­ã‚„æ–­å®šã¯é¿ã‘ã€æ§‹æˆæ•´ç†ã«å¾¹ã—ã¦ãã ã•ã„ã€‚
ãƒ»${purposeNote}

ã€å…¥åŠ›å†…å®¹ã€‘
${input}`;
                } 
                else if (scene === 'C') {
                    const length = document.getElementById('select-C').value;
                    let lengthInstruction = '';
                    if (length === 'çŸ­ã‚') lengthInstruction = 'æ–‡å­—æ•°ã¯200ã€œ300å­—ç¨‹åº¦ã§ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚';
                    else if (length === 'æ™®é€š') lengthInstruction = 'æ–‡å­—æ•°ã¯400ã€œ600å­—ç¨‹åº¦ã§ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚';
                    else lengthInstruction = 'æ–‡å­—æ•°ã¯800å­—å‰å¾Œã¨ã—ã€ä¾‹ãˆè©±ã‚’å°‘ã—äº¤ãˆã¦ä¸å¯§ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚';
                    prompt = `ä»¥ä¸‹ã®æ³•çš„ãªèª¬æ˜æ–‡ã‚’ã€ä¾é ¼è€…å‘ã‘ã«åˆ†ã‹ã‚Šã‚„ã™ã„æ–‡ç« ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚

ã€æ¡ä»¶ã€‘
ãƒ»å°‚é–€ç”¨èªã¯å¿…è¦æœ€å°é™ã«ã—ã¦ãã ã•ã„ã€‚
ãƒ»çµè«–ã‚’å…ˆã«ä¼ãˆã¦ãã ã•ã„ã€‚
ãƒ»å®‰å¿ƒæ„Ÿã®ã‚ã‚‹è¡¨ç¾ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„ã€‚
ãƒ»å†…å®¹ã¯æ­£ç¢ºã«ä¿ã£ã¦ãã ã•ã„ã€‚
ãƒ»${lengthInstruction}

ã€å…¥åŠ›å†…å®¹ã€‘
${input}`;
                } 
                else if (scene === 'D') {
                    const level = document.getElementById('select-D').value;
                    let levelInstruction = '';
                    if (level === 'ä½') levelInstruction = 'å€‹äººåãƒ»ä¼šç¤¾åãƒ»å›£ä½“åã‚’ä¸€èˆ¬åè©ï¼ˆä¾‹ï¼šAæ°ã€Bç¤¾ï¼‰ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚';
                    else if (level === 'ä¸­') levelInstruction = 'å€‹äººåãƒ»ä¼šç¤¾åã«åŠ ãˆã€åœ°åã‚„å…·ä½“çš„ãªæ—¥æ™‚ã‚‚ä¸€èˆ¬åŒ–ã—ã¦ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚';
                    else levelInstruction = 'å€‹äººåãƒ»ä¼šç¤¾åãƒ»åœ°åãƒ»æ—¥æ™‚ã«åŠ ãˆã€å½¹è·åã‚„ç‰¹å¾´ãªã©ã€å€‹äººãŒç‰¹å®šã•ã‚Œãã†ãªæƒ…å ±ã¯ã™ã¹ã¦ä¸€èˆ¬åŒ–ã—ã¦ã¼ã‹ã—ã¦ãã ã•ã„ã€‚';
                    prompt = `ä»¥ä¸‹ã®æ–‡ç« ã«å«ã¾ã‚Œã‚‹å›ºæœ‰åè©ã‚’ã€æ³•å¾‹æ–‡æ›¸ã§ä½¿ãˆã‚‹ä¸€èˆ¬åè©ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

ã€å‡ºåŠ›ã€‘
1 ç½®ãæ›ãˆå¾Œã®æ–‡ç« 
2 ç½®æ›å¯¾å¿œè¡¨ï¼ˆå…ƒã®åç§° â†’ ç½®æ›å¾Œï¼‰

ã€æ¡ä»¶ã€‘
ãƒ»${levelInstruction}

ã€å…¥åŠ›å†…å®¹ã€‘
${input}`;
                }

                document.getElementById('result-text').textContent = prompt;
                document.getElementById('result-area').style.display = 'block';
                setTimeout(() => { document.getElementById('result-area').scrollIntoView({ behavior: 'smooth' }); }, 100);
                
                const copyBtn = document.getElementById('copy-btn');
                if(copyBtn) {
                    copyBtn.textContent = 'ã‚³ãƒ”ãƒ¼ã™ã‚‹';
                    copyBtn.classList.remove('btn-primary');
                    copyBtn.classList.add('btn-secondary');
                }
            },

            copyResult: function() {
                const text = document.getElementById('result-text').textContent;
                this.performCopy(text);
            },
            
            copyText: function(buttonElement) {
                const text = buttonElement.previousElementSibling.textContent;
                this.performCopy(text, buttonElement);
            },

            performCopy: function(text, btnElement = null) {
                if (!text) return;
                
                const onCopySuccess = () => {
                    this.showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                    
                    const targetBtn = btnElement || document.getElementById('copy-btn');
                    if (targetBtn) {
                        const originalText = targetBtn.textContent;
                        targetBtn.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸâœ¨';
                        
                        setTimeout(() => {
                            targetBtn.textContent = originalText;
                        }, 2000);
                    }
                };

                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(text).then(onCopySuccess).catch(err => {
                        this.fallbackCopy(text);
                    });
                } else {
                    this.fallbackCopy(text);
                }
            },
            
            fallbackCopy: function(text) {
                try {
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    this.showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                } catch (err) {
                    this.showToast('ã‚³ãƒ”ãƒ¼ã§ãã¾ã›ã‚“ã§ã—ãŸ');
                }
            },

            showToast: function(message) {
                const toast = document.getElementById('toast');
                toast.textContent = message;
                toast.className = 'show';
                setTimeout(() => { toast.className = toast.className.replace('show', ''); }, 3000);
            }
        };

        app.init();
    </script>
</body>
</html>